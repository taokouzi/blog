import{r as s,e as d,j as o}from"./vendor-53f47927.js";import{H as m,C as p}from"./Header-4c31d714.js";import{P as L,S as w}from"./Spinner-76373acc.js";import{g as h}from"./index-6104aa1a.js";function E(){const[t,n]=s.useState(!1);return{loading:t,requestLoading:async r=>{n(!0),await r(),n(!1)}}}const q=()=>{const[t,n]=s.useState([]),{loading:a,requestLoading:r}=E(),[c,l]=s.useState(1),g=()=>{a||r(async()=>{const{data:e}=await h({page:c,pageSize:10});n([...t,...e])})};s.useEffect(()=>{g()},[c]);const u=()=>{const{scrollTop:e,scrollHeight:i}=document.documentElement;window.innerHeight+e>=i&&!a&&l(f=>f+1)};return s.useEffect(()=>(window.addEventListener("scroll",u),()=>{window.removeEventListener("scroll",()=>{})}),[t]),d("div",{children:[o(m,{}),d(p,{children:[t.map((e,i)=>o("div",{className:"py-4",children:o(L,{...e})},e.id+i)),o(w,{loading:a})]})]})};export{q as default};
